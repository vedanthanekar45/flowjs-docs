@startuml
left to right direction

skinparam componentStyle rectangle

' Top-Level: Developer View
package "Frontend Developer View" {
  [Developer UI]
  [SceneLoader]
}

' Middle Layer: Scene Processing System
package "Scene Processing System" {
  [Renderer]
  [LightingManager]
  [MaterialHandler]
  [EnvironmentHandler]
  [ModelImporter]
}

' Bottom Layer: Asset Sources (positioned below the system)
package "Asset Sources" {
  [File System]
}

' External Library
component [Three.js] <<external>>

' --- Define Relationships ---

' Internal Frontend relationship
[Developer UI] --> [SceneLoader]

' SceneLoader connects to all components in the processing system
[SceneLoader] --> [Renderer]
[SceneLoader] --> [LightingManager]
[SceneLoader] --> [MaterialHandler]
[SceneLoader] --> [EnvironmentHandler]
[SceneLoader] --> [ModelImporter]

' Asset source connections point upwards to the processing system
' The "-up->" arrow hint helps ensure "Asset Sources" is placed at the bottom.
[File System] -up-> [ModelImporter] : "provides .obj/.gltf"
[File System] -up-> [MaterialHandler] : "provides textures"
[File System] -up-> [EnvironmentHandler] : "provides HDRI"

' External library connections
[Developer UI] ..> [Three.js] : "interacts via canvas"
[SceneLoader] ..> [Three.js] : "uses library"
[Renderer] ..> [Three.js] : "renders via Three.js"

@enduml
